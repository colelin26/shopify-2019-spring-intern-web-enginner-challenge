(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(93)},39:function(e,t,a){},43:function(e,t,a){},54:function(e,t){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(27),c=a.n(r),s=(a(39),a(13)),o=a.n(s),l=a(28),u=a(29),d=a(30),m=a(32),h=a(31),v=a(33),f=a(2),b=(a(43),a(5)),p=a.n(b),E=a(6),y=a(4),w=a(86),k=a(87),N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={keyword:"",data:[],searchResult:[],favourites:[]},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleAddFavourite=a.handleAddFavourite.bind(Object(f.a)(Object(f.a)(a))),a.handleDeleteFavourite=a.handleDeleteFavourite.bind(Object(f.a)(Object(f.a)(a))),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){this.setState({keyword:e.target.value}),""===e.target.value&&this.setState({searchResult:[]})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.keyword,a=this.state.data.filter(function(e){return!!(e.body.includes(t)||e.title.includes(t)||e.keywords.includes(t)||e.category.includes(t))});this.setState({searchResult:a})}},{key:"handleAddFavourite",value:function(e){this.state.favourites.includes(e)||this.setState({favourites:this.state.favourites.concat(e)})}},{key:"handleDeleteFavourite",value:function(e){this.state.favourites.includes(e)&&this.setState({favourites:this.state.favourites.filter(function(t){return t.id!==e.id})})}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=2000");case 2:t=e.sent,this.setState({data:t.body});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.keyword,n=t.favourites,r=t.searchResult;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("p",null,"Toronto Waste Lookup")),i.a.createElement("form",{onSubmit:this.handleSubmit,className:"searchWrapper"},i.a.createElement("input",{type:"search",name:"search",value:a,onChange:this.handleChange,placeholder:"Keywords...",className:"searchBar"}),i.a.createElement("button",{type:"submit"},i.a.createElement(E.a,{icon:y.a}))),i.a.createElement("div",{className:"items"},r.map(function(t){return i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"item-title"},n.includes(t)?i.a.createElement("div",{className:"favouriteIcon",onClick:function(){return e.handleDeleteFavourite(t)}},i.a.createElement(E.a,{icon:y.b})):i.a.createElement("div",{className:"normalIcon",onClick:function(){return e.handleAddFavourite(t)}},i.a.createElement(E.a,{icon:y.b})),p()(w(t.title))),i.a.createElement("div",{className:"item-description"},p()(w(t.body))))})),i.a.createElement("div",{className:"typography"},n.length>0&&i.a.createElement("header",null,"Favourites")),i.a.createElement("div",{className:"items"},n.map(function(t){return i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"item-title"},i.a.createElement("div",{className:"favouriteIcon",onClick:function(){return e.handleDeleteFavourite(t)}},i.a.createElement(E.a,{icon:y.b})),p()(w(t.title))),i.a.createElement("div",{className:"item-description"},p()(w(t.body))))})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,2,1]]]);
//# sourceMappingURL=main.23bfbdaf.chunk.js.map