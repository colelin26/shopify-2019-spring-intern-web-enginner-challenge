(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(93)},41:function(e,t,a){},59:function(e,t){},91:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(28),s=a.n(r),c=(a(41),a(14)),o=a.n(c),l=a(29),u=a(30),d=a(31),m=a(34),h=a(32),v=a(35),f=a(2),b=a(4),p=a.n(b),E=a(33),w=a.n(E),y=a(5),k=a.n(y),N=a(6),j=a(7),O=(a(91),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={keyword:"",data:[],searchResult:[],favourites:[],jsonURL:"https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000",ReactHtmlParserOptions:{decodeEntities:!0,transform:function(e,t){console.log(e),e.attribs&&void 0!==e.attribs.style&&(e.attribs.style=void 0)}}},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(Object(f.a)(a))),a.handleAddFavourite=a.handleAddFavourite.bind(Object(f.a)(Object(f.a)(a))),a.handleDeleteFavourite=a.handleDeleteFavourite.bind(Object(f.a)(Object(f.a)(a))),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get(this.state.jsonURL);case 2:t=e.sent,this.setState({data:t.body});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({keyword:e.target.value}),""===e.target.value&&this.setState({searchResult:[]})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.keyword,a=this.state.data.filter(function(e){return!!e.keywords.includes(t)});this.setState({searchResult:a})}},{key:"handleAddFavourite",value:function(e){this.state.favourites.includes(e)||this.setState({favourites:this.state.favourites.concat(e)})}},{key:"handleDeleteFavourite",value:function(e){this.state.favourites.includes(e)&&this.setState({favourites:this.state.favourites.filter(function(t){return t.id!==e.id})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.keyword,n=t.favourites,r=t.searchResult,s=t.ReactHtmlParserOptions;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"appHeader"},i.a.createElement("p",null,"Toronto Waste Lookup")),i.a.createElement("form",{onSubmit:this.handleSubmit,className:"searchWrapper"},i.a.createElement("input",{value:a,onChange:this.handleChange,placeholder:"Keywords...",className:"searchBar"}),i.a.createElement("button",{type:"submit"},i.a.createElement(N.a,{icon:j.a}))),i.a.createElement("div",{className:"items"},r.map(function(t){return i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"itemTitle"},n.includes(t)?i.a.createElement("div",{className:"favouriteIcon",onClick:function(){return e.handleDeleteFavourite(t)}},i.a.createElement(N.a,{icon:j.b})):i.a.createElement("div",{className:"normalIcon",onClick:function(){return e.handleAddFavourite(t)}},i.a.createElement(N.a,{icon:j.b})),k()(p()(t.title),s)),i.a.createElement("div",{className:"itemDescription"},k()(p()(t.body),s)))})),n.length>0&&i.a.createElement("div",{className:"favouriteContainer"},i.a.createElement("div",{className:"typography"},i.a.createElement("header",null,"Favourites")),i.a.createElement("div",{className:"items"},n.map(function(t){return i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"itemTitle"},i.a.createElement("div",{className:"favouriteIcon",onClick:function(){return e.handleDeleteFavourite(t)}},i.a.createElement(N.a,{icon:j.b})),k()(p()(t.title),s)),i.a.createElement("div",{className:"itemDescription"},k()(p()(t.body),s)))}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.a051caba.chunk.js.map